<!DOCTYPE html>
<html>
    <head>
        <title> Daily Usage App</title>
    </head>
    <body>
        <main style="background-color:whitesmoke ; height: 100%;">
         <header style="background-color: whitesmoke; padding: 8px;overflow: auto;">
          <strong style="display: block; font-size: 24px;">Logo Here</strong>
          <section style="float: left;width:50%;">
              <img src="./assets/images/3.jpg" width="100" height="100" style="float:left;margin-right: 10px;"/>
                <div style="float:left;">
                    <h3>John Doe</h3>
                    <button style="padding: 4px;background:greenyellow; cursor:pointer;" onClick="showForm()">ADD EXPENSE</button>
                     
                </div>
          </section>
          <section style="float: right;width:50%;">
            <div style="float: right;text-align:right;">
               <h3>Total Budget</h3>
               <h2 class="budget">100000 KS</h2>
               <p class="budget">4 KS just for testing</p> 
            </div>
          </section>   
         </header>
         <hr/>
         
         <div style="text-align:center;float:right;width:50%;">
            h4 style="text-align:center;"></h4>
            <strong id="expenseTitle"></strong>
            <strong id="expenseAmount"></strong>
         </div>
         <div style="float:left;width:50%;display: none;" id="expenseScreen">
             <h3>All Expenses</h3>
             <p id="expenseList"></p>
         </div>
        </main>
    </body>
</html>
<script>
    // function expression
    function showForm() {
        let expenseTitle= window.prompt('Please Enter Expense Title');
        let expenseAmount= window.prompt('Please Enter Your New Expense');
        //isNaN is not a number => return true/false
        if (isNaN(expenseAmount)) {
           window.alert("Invalid")
            return;
        }
        let totalBudget = document.getElementsByClassName('budget');
        totalBudget[0].innerHTML = parseInt(totalBudget[0].innerHTML.replace(' KS', ''))-parseInt(expenseAmount) + ' KS'
        // getElementsByTabName return array of selected tag name element
        let resultElements = document.getElementsByTagName('h4');
        resultElements[0].innerHTML = 'Your new expense';
        document.getElementById('expenseTitle').innerHTML = expenseTitle + ':'
        document.getElementById('expenseAmount').innerHTML = expenseAmount
        let newExpense={
            'title':expenseTitle,'amount':expenseAmount
        };//js object
        let totalExpense=[];//js object(array)
        if(localStorage.getItem('expenses')) {
            totalExpense=JSON.parse(localStorage.getItem('expenses'))
        }
        totalExpense.push(newExpense)//js object(array)
        console.log(totalExpense)//js object
        window.localStorage.setItem("expenses",JSON.stringify(totalExpense));
        let results=window.localStorage.getItem('expenses');
        appendToExpenses(newExpense)

    
    }
    

    
    
</script>